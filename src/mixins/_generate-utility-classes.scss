@use 'sass:map';
@use '../generator/workers/cycle' as _cyc;
@use '../config' as _c;

/// GENERATE UTILITY CLASSES MIXIN
/// Runs the utility class generator on demand
///
@mixin generate-utility-classes() {
  /* GORKO: auto-generated utility classes start */

  /// Run the standard cycle first
  @include _cyc.cycle('', false);

  /// For each breakpoint, generate a prefix and run the cycle
  @each $key, $value in map.get(_c.$gorko-config, 'breakpoints') {
    $prefix: #{$key + '\\:'};
    $is-breakpoint: true;

    @media #{$value} {
      @include _cyc.cycle($prefix, $is-breakpoint);
    }
  }

  /* GORKO: auto-generated utility classes end */
}
